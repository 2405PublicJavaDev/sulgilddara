<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org" >
	<head>
		<meta charset="UTF-8">
		<title>술 이야기 메인</title>
	</head>
	<body>
		<h1>술 이야기 메인 - 카드</h1>
		
	<div th:each="board : ${bList}">
		<div class="boardOne">
			<div>
				<div>userId [[${board.userId}]]</div>
				<div>boardPoint [[${board.boardPoint}]]</div>
				<div>boardDate [[${board.boardDate}]]</div>
				<div>viewCount [[${board.viewCount}]]</div>
<!-- 				프로필사진, 회원ID,  -->
			</div>
			<div>
				<div>boardSubject [[${board.boardSubject}]]</div>
				<div>liquorId [[${board.liquorId}]]</div>
			</div>
			<div>
				<div>boardContent</div>
				<div th:utext="${board.boardContent}" class="contentDiv-text"></div>
				<div th:utext="${board.boardContent}" class="contentDiv-img"></div>
<!-- 			th문 utext을 이용하여 태그로 이루어진 내용 가져옴 -->
			</div>
			<div>
				<div th:each="tag : ${bTagList}">
					<div th:if="${tag.boardNo == board.boardNo}">[[${tag.boardTagName}]]</div>
				</div>
			</div>

		</div>
		<br><br><br>
	</div>



		
	</body>
	<script>
		document.addEventListener("DOMContentLoaded", function() {
			
	        let contentDivText = document.querySelectorAll(".contentDiv-text");
	        let contentDivImg = document.querySelectorAll(".contentDiv-img");
	        
	        contentDivText.forEach(item => {
	        	extractTextFromHTML(contentDivText);
	        });
	        
// 	        contentDivText.forEach(item => {
// 	        	item.innerHTML = item.innerHTML.replace(/<img[^>]*>/g, ''); // <img> 태그만 제거
// 	        });
	        
	        contentDivImg.forEach(item => {
	        	item.innerHTML = item.innerHTML.replace(/<\/?[^img][^>]*>/g, '')  // <img> 태그 외의 모든 태그 제거
	        });
	        
	    });
		
		
		function extractTextFromHTML(html) {
		    const parser = new DOMParser();
		    const doc = parser.parseFromString(html, 'text/html');
		    return doc.body.textContent || "";
		}

		
		
	</script>
</html>